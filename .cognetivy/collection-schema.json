{
  "kinds": {
    "step_articles": {
      "description": "One article per workflow step: narrative reasoning, what changed, why, and references. This is separate from any collected data items.",
      "required": ["run_id", "workflow_version", "step_id", "title", "article_markdown", "status"],
      "properties": {
        "run_id": { "type": "string", "description": "Run id this article belongs to" },
        "workflow_version": { "type": "string", "description": "Workflow version (e.g. v2)" },
        "step_id": { "type": "string", "description": "Workflow node id" },
        "title": { "type": "string", "description": "Human readable title" },
        "article_markdown": { "type": "string", "description": "Full step writeup in Markdown" },
        "status": { "type": "string", "description": "draft | reviewed | approved" },
        "refs": { "type": "array", "description": "Reference ids/links (sources, prism ids, etc.)" }
      }
    },
    "requirements": {
      "description": "Requirements for Cognetivy v2 (each is one item).",
      "required": ["title", "requirement", "priority", "status"],
      "properties": {
        "title": { "type": "string" },
        "requirement": { "type": "string" },
        "priority": { "type": "string", "description": "must | should | could" },
        "status": { "type": "string", "description": "proposed | accepted | rejected" },
        "refs": { "type": "array" }
      }
    },
    "acceptance_criteria": {
      "description": "Measurable acceptance criteria for the v2 implementation.",
      "required": ["title", "criteria", "status"],
      "properties": {
        "title": { "type": "string" },
        "criteria": { "type": "string" },
        "status": { "type": "string", "description": "draft | agreed | satisfied" },
        "refs": { "type": "array" }
      }
    },
    "gap_list": {
      "description": "Gap analysis items mapped to the prototype shortcomings.",
      "required": ["title", "gap", "impact", "status"],
      "properties": {
        "title": { "type": "string" },
        "gap": { "type": "string" },
        "impact": { "type": "string" },
        "status": { "type": "string", "description": "open | mitigated | closed" },
        "refs": { "type": "array" }
      }
    },
    "decisions": {
      "description": "Architecture/behavior decisions (ADR-lite).",
      "required": ["title", "decision", "status"],
      "properties": {
        "title": { "type": "string" },
        "decision": { "type": "string" },
        "status": { "type": "string", "description": "proposed | approved | rejected" },
        "consequences": { "type": "string" },
        "refs": { "type": "array" }
      }
    },
    "workflow_spec": {
      "description": "Workflow v2 specification (metadata, node naming, contracts, versions).",
      "required": ["name", "description", "type", "versioning", "spec_markdown"],
      "properties": {
        "name": { "type": "string" },
        "description": { "type": "string" },
        "type": { "type": "string", "description": "research | other" },
        "versioning": { "type": "string", "description": "How versions are named (v1, v2, and display name)" },
        "spec_markdown": { "type": "string" },
        "refs": { "type": "array" }
      }
    },
    "collection_kinds_spec": {
      "description": "Collection kinds v2 specification including required traceability fields and relationships.",
      "required": ["spec_markdown"],
      "properties": {
        "spec_markdown": { "type": "string" },
        "refs": { "type": "array" }
      }
    },
    "schema_v2_proposal": {
      "description": "Strict schema proposal for workflows/collections/events (written as Markdown + examples).",
      "required": ["title", "proposal_markdown", "status"],
      "properties": {
        "title": { "type": "string" },
        "proposal_markdown": { "type": "string" },
        "status": { "type": "string", "description": "draft | reviewed | approved" },
        "refs": { "type": "array" }
      }
    },
    "migration_plan": {
      "description": "Migration plan from v1 to v2, broken into steps.",
      "required": ["title", "plan_markdown", "status"],
      "properties": {
        "title": { "type": "string" },
        "plan_markdown": { "type": "string" },
        "status": { "type": "string", "description": "draft | agreed | executing | done" },
        "refs": { "type": "array" }
      }
    },
    "implementation_tasks": {
      "description": "Implementation task list (PR-sized).",
      "required": ["title", "task", "status"],
      "properties": {
        "title": { "type": "string" },
        "task": { "type": "string" },
        "status": { "type": "string", "description": "todo | doing | done" },
        "refs": { "type": "array" }
      }
    },
    "test_plan": {
      "description": "Test plan for v2 (manual + automated).",
      "required": ["title", "plan_markdown"],
      "properties": {
        "title": { "type": "string" },
        "plan_markdown": { "type": "string" },
        "refs": { "type": "array" }
      }
    },
    "approved_changes": {
      "description": "Approved changes after human review gate.",
      "required": ["title", "change", "status"],
      "properties": {
        "title": { "type": "string" },
        "change": { "type": "string" },
        "status": { "type": "string", "description": "approved | rejected" },
        "refs": { "type": "array" }
      }
    },
    "open_questions": {
      "description": "Open questions to resolve during the v2 design/migration.",
      "required": ["question", "status"],
      "properties": {
        "question": { "type": "string" },
        "status": { "type": "string", "description": "open | answered" },
        "refs": { "type": "array" }
      }
    },
    "compat_strategy": {
      "description": "Backward compatibility strategy for v1 -> v2 rollout.",
      "required": ["title", "strategy_markdown", "status"],
      "properties": {
        "title": { "type": "string" },
        "strategy_markdown": { "type": "string" },
        "status": { "type": "string", "description": "draft | agreed" },
        "refs": { "type": "array" }
      }
    }
  }
}